# Application
# NODE_ENV can be development | test | production
NODE_ENV=development
# Port the HTTP server listens on
PORT=3000
# Publicly accessible app URL (used for callbacks, emails, etc.)
APP_URL=http://localhost:3000

# Database (Postgres)
# Full connection string to Postgres database
DATABASE_URL=postgres://postgres:postgres@localhost:5432/app
# Optional direct URL (e.g., for migrations)
DIRECT_URL=

# Redis / Queue
# Preferred Redis connection string (used by worker and rate limiting)
REDIS_URL=redis://localhost:6379/0
# Upstash REST API (if using Upstash without direct TCP)
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=
# Queue provider (currently only 'redis' supported)
QUEUE_PROVIDER=redis
# Number of concurrent jobs processed by the worker
WORKER_CONCURRENCY=5

# Object Storage (S3/R2/MinIO)
# Provider: aws | r2 | minio
S3_PROVIDER=aws
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET=
# Custom S3 endpoint (for R2/MinIO). Leave empty for AWS S3
S3_ENDPOINT=
# Path-style addressing is required for MinIO
S3_FORCE_PATH_STYLE=true

# Email / SMTP
# For local dev, Mailpit: SMTP_HOST=localhost, SMTP_PORT=1025, SMTP_SECURE=false
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_SECURE=false
SMTP_FROM=Dev <dev@example.com>
# If using Resend instead of SMTP (optional)
RESEND_API_KEY=

# Auth/Security
# Set strong secrets in production
SESSION_SECRET=
JWT_SECRET=

# Billing / Webhooks
# Enable billing flows. If false or API key missing, processing is disabled.
FEATURE_BILLING_ENABLED=false
# Billing provider: stripe | none
BILLING_PROVIDER=none
# Stripe credentials (required if BILLING_PROVIDER=stripe)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
# Explicitly disable webhook processing even if keys are present
DISABLE_BILLING_WEBHOOK_PROCESSING=false

# Feature flags
# In staging, you may bypass email verification to ease testing
FEATURE_EMAIL_VERIFICATION_BYPASS=false

# Observability (optional)
SENTRY_DSN=
POSTHOG_API_KEY=
POSTHOG_HOST=

# Misc
# Logging verbosity: debug | info | warn | error
LOG_LEVEL=info
# Prefix for rate limit keys in Redis
RATE_LIMIT_REDIS_PREFIX=ratelimit:
# Default cache TTL in seconds
CACHE_TTL_SECONDS=300

# Seed script (not read by app, but used during pnpm seed)
# Admin user to create when seeding local/staging
# ADMIN_EMAIL=admin@example.com
# ADMIN_PASSWORD=changeme
